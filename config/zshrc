# freshshell
source ~/.fresh/build/shell.sh

# antigen
source ~/.antigen/antigen.zsh
antigen use oh-my-zsh
antigen-bundles <<EOBUNDLES
bundler
git
heroku
zsh-users/zsh-syntax-highlighting
EOBUNDLES
antigen-theme robbyrussell
antigen-apply

#history
export SAVEHIST=1000


# dirstack

DIRSTACKFILE="$HOME/.cache/zsh/dirs"
if [[ -f $DIRSTACKFILE ]] && [[ $#dirstack -eq 0 ]]; then
  dirstack=( ${(f)"$(< $DIRSTACKFILE)"} )
  [[ -d $dirstack[1] ]] && cd $dirstack[1]
fi
chpwd() {
    print -l $PWD ${(u)dirstack} >$DIRSTACKFILE
  }
DIRSTACKSIZE=20

setopt autopushd pushdsilent pushdtohome

setopt pushdignoredups
setopt pushdminus

# paths
export PATH=$PATH:/home/oddmunds/lib/play
export PATH=$PATH:/usr/bin/site_perl/
export PATH=$PATH:/usr/bin/vendor_perl/
export PATH=$PATH:/home/oddmunds/bin/

## amedia tools
export PATH=$PATH:/home/oddmunds/bin/api-tools/ci
export PATH=$PATH:/home/oddmunds/bin/api-tools/dev
export PATH=$PATH:/home/oddmunds/bin/api-tools/metrics/load
export PATH=$PATH:/home/oddmunds/bin/api-tools/metrics/yslow
export PATH=$PATH:/home/oddmunds/bin/api-tools/smoketests
export PATH=$PATH:/home/oddmunds/bin/api-tools/komparator

# exports
export EDITOR=vim
export PACMAN=pacmatic

export V3_CONFIG_HOME=/etc/api

export M2_HOME=/opt/maven

# aliases
alias l='ls --almost-all -l --reverse -t'
alias qtip='gradle clean ear'
alias v='vim'
alias h='http --body --follow'
alias hh='http --headers'
alias gff='git pull --ff-only'
alias gp='git pull'

alias pryb="pry -e \"require 'bundler/setup'\""

# PROMPT HACK
export PS1='%{$fg_bold[red]%}⮁ %{$fg_bold[green]%}%p %{$fg[cyan]%}%c %{$fg_bold[blue]%}$(git_prompt_info)%{$fg_bold[blue]%} % %{$reset_color%}'

# fpath
fpath=(~/.zsh/completion $fpath)

autoload -U compinit
compinit

# dropwizardry
alias dorkw='rm -f *-service/target/original* ; java -jar *-service/target/*-service-*-SNAPSHOT.jar server *-app/src/main/resources/etc/*.yml'

# mæven
alias mci='mvn -Dmaven.test.skip=true clean install'

# java fonts
export _JAVA_OPTIONS='-Dawt.useSystemAAFontSettings=gasp'

# nvm
source ~/.nvm/nvm.sh
